<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InsightsEditor Pro - Ã‰diteur Personas</title>
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
    <!-- === HEADER COMPACT (NAVIGATION PRINCIPALE) === -->
    <header class="app-header-clean">
        <div class="header-container">
            <!-- Navigation Insights -->
            <div class="insights-nav">
                <button id="prevBtn" class="nav-btn" disabled title="Insight prÃ©cÃ©dent">â€¹</button>
                <div class="insight-info">
                    <h1 class="app-title">InsightsEditor</h1>
                    <span id="globalCounter" class="insight-counter">1/178</span>
                </div>
                <button id="nextBtn" class="nav-btn" title="Insight suivant">â€º</button>
            </div>

            <!-- Persona actuelle (compact) -->
            <div class="current-persona-compact">
                <div class="persona-avatar">
                    <img src="assets/images/personas/avatars/Emma.jpg" alt="Emma">
                </div>
                <div class="persona-name">Emma</div>
                <button class="personas-menu-btn" title="Changer de persona">â–¼</button>
            </div>

            <!-- Actions principales -->
            <div class="header-actions">
                <button id="validateBtn" class="btn-validate primary">
                    <span class="icon">âœ“</span>
                    <span class="text">Valider</span>
                </button>
                <button class="btn-menu" title="Menu">â˜°</button>
            </div>
        </div>

        <!-- Progress bar discrÃ¨te -->
        <div class="progress-bar-header">
            <div class="progress-fill" style="width: 1%"></div>
        </div>
    </header>

    <!-- === ZONE PRINCIPALE (PRIORITÃ‰ 1) === -->
    <main class="main-workspace">
        
        <!-- Contexte discret -->
        <section class="context-bar">
            <div class="context-pills">
                <span class="pill phase-pill" data-phase="menstrual">
                    ğŸŒ™ <span id="insightPhase">SorciÃ¨re</span>
                </span>
                <span class="pill">
                    ğŸ¯ <span id="insightTone">Coach</span>
                </span>
                <span class="pill">
                    â­ <span class="rating-display">3/5</span>
                </span>
            </div>
            <div class="context-actions">
                <button class="btn-context" title="Voir le contexte dÃ©taillÃ©">ğŸ“Š</button>
                <button class="btn-preview" title="AperÃ§u personas">ğŸ‘ï¸</button>
            </div>
        </section>

        <!-- ZONE D'Ã‰DITION (CÅ’UR DE L'INTERFACE) -->
        <div class="editing-workspace">
            
            <!-- Contenu de base (rÃ©fÃ©rence) -->
            <section class="base-content-card">
                <div class="card-header">
                    <h2>ğŸ“ Contenu de base</h2>
                    <button class="edit-base-btn" title="Ã‰diter">âœï¸</button>
                </div>
                <div id="baseContent" class="base-content-text">
                    Tes crampes te parlent aujourd'hui ! ğŸ’• Ton corps fait un travail incroyable. Essaie une bouillotte bien chaude et Ã©coute ce qu'il te demande.
                </div>
            </section>

            <!-- Zone d'adaptation (PRIORITÃ‰ ABSOLUE) -->
            <section class="adaptation-workspace">
                <div class="adaptation-header">
                    <h2>âœ¨ Adaptation pour <span class="current-persona-name">Emma</span></h2>
                    <div class="adaptation-tools">
                        <button class="emoji-toggle" title="Emojis">ğŸ¨</button>
                        <span class="word-count">0 mots</span>
                    </div>
                </div>
                
                <div class="editor-container">
                    <textarea 
                        id="contentTextarea" 
                        class="main-editor"
                        placeholder="ğŸ’¡ Adaptez le contenu pour Emma (16-25 ans)...

Conseils :
â€¢ Utilisez un ton Ã©nergique et bienveillant
â€¢ Ajoutez des exemples concrets
â€¢ Encouragez la dÃ©couverte de son corps
â€¢ Restez accessible et dÃ©culpabilisant

ğŸ¯ CrÃ©ez du contenu authentique qui lui ressemble !"
                        spellcheck="true">
                    </textarea>
                    
                    <!-- SÃ©lecteur d'emojis compact -->
                    <div class="emoji-panel collapsed" id="emojiGrid">
                        <div class="emoji-row">
                            <button class="emoji-btn">âœ¨</button>
                            <button class="emoji-btn">ğŸ’•</button>
                            <button class="emoji-btn">ğŸ’–</button>
                            <button class="emoji-btn">ğŸ¤—</button>
                            <button class="emoji-btn">ğŸŒŠ</button>
                            <button class="emoji-btn">ğŸŒ¸</button>
                            <button class="emoji-btn">ğŸŒ™</button>
                            <button class="emoji-btn">ğŸ’</button>
                            <button class="emoji-btn">ğŸ’ª</button>
                            <button class="emoji-btn">ğŸ”¥</button>
                        </div>
                    </div>
                </div>

                <!-- Actions principales -->
                <div class="editor-actions">
                    <div class="primary-action">
                        <button id="validateMainBtn" class="btn-validate-large">
                            <span class="icon">âœ¨</span>
                            <span class="text">Valider & Continuer</span>
                            <span class="shortcut">Cmd+S</span>
                        </button>
                    </div>
                    <div class="secondary-actions">
                        <button id="exportBtn" class="btn-secondary">
                            ğŸ“¤ Export
                        </button>
                        <button class="btn-secondary">
                            ğŸ”„ Reset
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- === SIDEBAR (CONTEXTE SECONDAIRE) === -->
    <aside class="sidebar-contextual collapsed" id="contextSidebar">
        <div class="sidebar-header">
            <h3>Contexte dÃ©taillÃ©</h3>
            <button class="sidebar-close">Ã—</button>
        </div>
        <div class="sidebar-content">
            <!-- Rating stars -->
            <div class="rating-section">
                <label>QualitÃ© du contenu</label>
                <div class="star-rating" id="scoreStars">
                    <span class="star filled" data-score="1">â­</span>
                    <span class="star filled" data-score="2">â­</span>
                    <span class="star filled" data-score="3">â­</span>
                    <span class="star" data-score="4">â­</span>
                    <span class="star" data-score="5">â­</span>
                </div>
            </div>

            <!-- Journey badges -->
            <div class="journey-section">
                <label>Parcours</label>
                <div id="journeyBadges" class="journey-badges">
                    <span class="badge-journey">ğŸ’ª Incarnation</span>
                    <span class="badge-journey">âœ¨ DÃ©ploiement</span>
                    <span class="badge-journey">ğŸ’• Apaisement</span>
                </div>
            </div>

            <!-- Metadata -->
            <div class="metadata-section">
                <div class="meta-item">
                    <label>Phase</label>
                    <span class="meta-value phase-display">SorciÃ¨re</span>
                </div>
                <div class="meta-item">
                    <label>PrÃ©fÃ©rences</label>
                    <span class="meta-value">Phases</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- === PERSONAS PREVIEW PANEL === -->
    <aside class="preview-panel collapsed" id="previewPanel">
        <div class="panel-header">
            <h3>AperÃ§u Personas</h3>
            <button class="panel-close">Ã—</button>
        </div>
        <div class="preview-content">
            <div class="persona-variants">
                <div class="variant-card" data-persona="emma">
                    <div class="variant-header">
                        <img src="assets/images/personas/avatars/Emma.jpg" alt="Emma">
                        <span class="variant-name">Emma</span>
                    </div>
                    <div class="variant-content empty">Ã€ rÃ©diger...</div>
                </div>
                <div class="variant-card" data-persona="laure">
                    <div class="variant-header">
                        <img src="assets/images/personas/avatars/Laure.jpg" alt="Laure">
                        <span class="variant-name">Laure</span>
                    </div>
                    <div class="variant-content empty">Ã€ rÃ©diger...</div>
                </div>
                <div class="variant-card" data-persona="sylvie">
                    <div class="variant-header">
                        <img src="assets/images/personas/avatars/Sylvie.jpg" alt="Sylvie">
                        <span class="variant-name">Sylvie</span>
                    </div>
                    <div class="variant-content">Contenu adaptÃ© pour Sylvie...</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- === PERSONA SELECTOR DROPDOWN === -->
    <div class="persona-dropdown collapsed" id="personaDropdown">
        <div class="dropdown-content">
            <div class="persona-option active" data-persona="emma">
                <img src="assets/images/personas/avatars/Emma.jpg" alt="Emma">
                <div class="persona-info">
                    <div class="name">Emma</div>
                    <div class="age">16-25 ans</div>
                </div>
                <div class="progress">15/180</div>
            </div>
            <div class="persona-option" data-persona="laure">
                <img src="assets/images/personas/avatars/Laure.jpg" alt="Laure">
                <div class="persona-info">
                    <div class="name">Laure</div>
                    <div class="age">25-35 ans</div>
                </div>
                <div class="progress">8/180</div>
            </div>
            <!-- Autres personas... -->
        </div>
    </div>

    <!-- === MODALES === -->
    
    <!-- MODALE Ã‰DITION CONTENU DE BASE -->
    <div class="modal-overlay" id="baseContentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ã‰diter le contenu de base</h3>
                <button class="modal-close">Ã—</button>
            </div>
            <div class="modal-body">
                <textarea id="baseContentTextarea" class="modal-textarea" rows="10" placeholder="Saisissez le contenu de base qui sera adaptÃ© pour chaque persona..."></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel">Annuler</button>
                <button class="btn-save">ğŸ’¾ Sauvegarder</button>
            </div>
        </div>
    </div>

    <!-- Zone de notifications -->
    <div class="notification-zone" id="notificationContainer"></div>

    <!-- Progress indicator fixe (motivation) -->
    <div class="progress-indicator-fixed">
        <div class="progress-ring">
            <span class="progress-text">1%</span>
        </div>
    </div>

    <!-- === SCRIPTS === -->
    <script src="assets/js/core/motivation.js"></script>
    <script src="assets/js/core/insight-editor.js"></script>
    <script src="assets/js/core/interface.js"></script>
    <script src="assets/js/core/app-init.js"></script>
</body>
</html> 